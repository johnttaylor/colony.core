<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Colony: Driver::TPipe::Pipe Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo2.gif"/></td>
  <td id="projectalign">
   <div id="projectname">Colony<span id="projectnumber">&#160;Build: 77-develop</span>
   </div>
   <div id="projectbrief">Embedded C++ Class Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Components</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Components&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_driver.html">Driver</a></li><li class="navelem"><a class="el" href="namespace_driver_1_1_t_pipe.html">TPipe</a></li><li class="navelem"><a class="el" href="class_driver_1_1_t_pipe_1_1_pipe.html">Pipe</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="class_driver_1_1_t_pipe_1_1_pipe-members.html">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle"><div class="title">Driver::TPipe::Pipe Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This concrete class provides the implementation of <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a>.  
 <a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This concrete class provides the implementation of <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a>. </p>
<p>The implementation is thread safe with respect to transmitting frames. In addition, all transmitted frames are atomic with respect to each other.</p>
<p>Reception of frames is done a single thread, i.e. the callback to individual Receive Frame Handler occur in the <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a>'s thread. It is APPLICATION's responsibility to provide thread safety for its Receive Frame Handlers.</p>
<p>The <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a> dynamically allocates memory for its incoming frame buffer on start-up. The memory is freed when the <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a> is shutdown.</p>
<p>The <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a> also assumes that the runnable object for its thread is a Cpl::System::PeridiocScheduler. The Periodic Scheduler semantics impose the following constraints on the Application (who is responsible for creating the Periodic Scheduler) </p><pre class="fragment">- The application MUST call the TPipe's start() method in the 'beginThreadProcessing'
  function for the thread/PeriodicScheduler.

- The application MUST call the TPipe's stop() method in the 'endThreadProcessing'
  function for the thread/PeriodicScheduler

- The application MUST call the TPipe's poll() method in the 'idleProcessing'
  function for the thread/PeriodicScheduler

- The concrete Frame decoder class MUST use non-blocking semantics AND
  the input stream MUST support the Cpl::Io::Input.available() method. See 
  Cpl::Text::Frame::StreamDecoder for more details.
</pre> </div>
<p><code>#include &lt;<a class="el" href="_pipe_8h_source.html">Pipe.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Driver::TPipe::Pipe:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_driver_1_1_t_pipe_1_1_pipe__inherit__graph.svg" width="154" height="110"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Driver::TPipe::Pipe:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_driver_1_1_t_pipe_1_1_pipe__coll__graph.svg" width="1390" height="356"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9e1eaf58f1976a03fc5ffdb0607d83e1" id="r_a9e1eaf58f1976a03fc5ffdb0607d83e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e1eaf58f1976a03fc5ffdb0607d83e1">Pipe</a> (<a class="el" href="class_cpl_1_1_container_1_1_map.html">Cpl::Container::Map</a>&lt; <a class="el" href="class_driver_1_1_t_pipe_1_1_rx_frame_handler_api.html">RxFrameHandlerApi</a> &gt; &amp;rxFrameHdlrs, <a class="el" href="class_cpl_1_1_text_1_1_frame_1_1_stream_decoder.html">Cpl::Text::Frame::StreamDecoder</a> &amp;deframer, <a class="el" href="class_cpl_1_1_text_1_1_frame_1_1_stream_encoder.html">Cpl::Text::Frame::StreamEncoder</a> &amp;framer, size_t rxFrameSize, const char *verbDelimiters=&quot; &quot;)</td></tr>
<tr class="memdesc:a9e1eaf58f1976a03fc5ffdb0607d83e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <br /></td></tr>
<tr class="separator:a9e1eaf58f1976a03fc5ffdb0607d83e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e33e190598c5f0e03552a4291293b6" id="r_a64e33e190598c5f0e03552a4291293b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64e33e190598c5f0e03552a4291293b6">~Pipe</a> ()</td></tr>
<tr class="memdesc:a64e33e190598c5f0e03552a4291293b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="separator:a64e33e190598c5f0e03552a4291293b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b7c10bb70f6a2abaf6c94b185e46e0" id="r_a45b7c10bb70f6a2abaf6c94b185e46e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45b7c10bb70f6a2abaf6c94b185e46e0">start</a> (<a class="el" href="class_cpl_1_1_io_1_1_input.html">Cpl::Io::Input</a> &amp;inStream, <a class="el" href="class_cpl_1_1_io_1_1_output.html">Cpl::Io::Output</a> &amp;outStream) noexcept</td></tr>
<tr class="memdesc:a45b7c10bb70f6a2abaf6c94b185e46e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method performs the in-thread initialization of the <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a>.  <br /></td></tr>
<tr class="separator:a45b7c10bb70f6a2abaf6c94b185e46e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20b8da283b4d80e466b82bf60129ae16" id="r_a20b8da283b4d80e466b82bf60129ae16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a20b8da283b4d80e466b82bf60129ae16">stop</a> () noexcept</td></tr>
<tr class="memdesc:a20b8da283b4d80e466b82bf60129ae16"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method performs the in-thread shutdown of the <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a>.  <br /></td></tr>
<tr class="separator:a20b8da283b4d80e466b82bf60129ae16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ca691ab8bffc163da9493fcc779650" id="r_a01ca691ab8bffc163da9493fcc779650"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a01ca691ab8bffc163da9493fcc779650">poll</a> () noexcept</td></tr>
<tr class="memdesc:a01ca691ab8bffc163da9493fcc779650"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method provides the <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a> CPU/Execution time.  <br /></td></tr>
<tr class="separator:a01ca691ab8bffc163da9493fcc779650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a065f24a04e19f438b2d3754e4c532d0a" id="r_a065f24a04e19f438b2d3754e4c532d0a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a065f24a04e19f438b2d3754e4c532d0a">sendCommand</a> (const char *completeCommandText, size_t numBytes) noexcept</td></tr>
<tr class="memdesc:a065f24a04e19f438b2d3754e4c532d0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">See <a class="el" href="class_driver_1_1_t_pipe_1_1_tx.html" title="This abstract class defines the &#39;Transmit Command&#39; interface for the TPipe.">Driver::TPipe::Tx</a>.  <br /></td></tr>
<tr class="separator:a065f24a04e19f438b2d3754e4c532d0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8970d02e0ac63aed0a7be3539e1d4245" id="r_a8970d02e0ac63aed0a7be3539e1d4245"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8970d02e0ac63aed0a7be3539e1d4245">sendRawCommand</a> (const char *completeCommandText, size_t numBytes) noexcept</td></tr>
<tr class="memdesc:a8970d02e0ac63aed0a7be3539e1d4245"><td class="mdescLeft">&#160;</td><td class="mdescRight">See <a class="el" href="class_driver_1_1_t_pipe_1_1_tx.html" title="This abstract class defines the &#39;Transmit Command&#39; interface for the TPipe.">Driver::TPipe::Tx</a>.  <br /></td></tr>
<tr class="separator:a8970d02e0ac63aed0a7be3539e1d4245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39b80e3003df70bc0faf642a5a489674" id="r_a39b80e3003df70bc0faf642a5a489674"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a39b80e3003df70bc0faf642a5a489674">getUnknownFrameCount</a> () noexcept</td></tr>
<tr class="memdesc:a39b80e3003df70bc0faf642a5a489674"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns the number of received frames that there was no registered frame handler to process the incoming frame.  <br /></td></tr>
<tr class="separator:a39b80e3003df70bc0faf642a5a489674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_driver_1_1_t_pipe_1_1_tx"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_class_driver_1_1_t_pipe_1_1_tx')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_driver_1_1_t_pipe_1_1_tx.html">Driver::TPipe::Tx</a></td></tr>
<tr class="memitem:a43237808ea1942535b039dafc3cce583 inherit pub_methods_class_driver_1_1_t_pipe_1_1_tx" id="r_a43237808ea1942535b039dafc3cce583"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_driver_1_1_t_pipe_1_1_tx.html#a43237808ea1942535b039dafc3cce583">sendCommand</a> (<a class="el" href="class_cpl_1_1_text_1_1_string.html">Cpl::Text::String</a> &amp;command) noexcept</td></tr>
<tr class="memdesc:a43237808ea1942535b039dafc3cce583 inherit pub_methods_class_driver_1_1_t_pipe_1_1_tx"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience method to send a command that is contain in Text string object.  <br /></td></tr>
<tr class="separator:a43237808ea1942535b039dafc3cce583 inherit pub_methods_class_driver_1_1_t_pipe_1_1_tx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94530882cb114261b86abbf55ef977f7 inherit pub_methods_class_driver_1_1_t_pipe_1_1_tx" id="r_a94530882cb114261b86abbf55ef977f7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_driver_1_1_t_pipe_1_1_tx.html#a94530882cb114261b86abbf55ef977f7">sendCommand</a> (const char *commandString) noexcept</td></tr>
<tr class="memdesc:a94530882cb114261b86abbf55ef977f7 inherit pub_methods_class_driver_1_1_t_pipe_1_1_tx"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience method to send a command that is a contained in a null terminated string.  <br /></td></tr>
<tr class="separator:a94530882cb114261b86abbf55ef977f7 inherit pub_methods_class_driver_1_1_t_pipe_1_1_tx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a60a35bbd126e84b159a4bcb1973872 inherit pub_methods_class_driver_1_1_t_pipe_1_1_tx" id="r_a3a60a35bbd126e84b159a4bcb1973872"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_driver_1_1_t_pipe_1_1_tx.html#a3a60a35bbd126e84b159a4bcb1973872">~Tx</a> ()</td></tr>
<tr class="memdesc:a3a60a35bbd126e84b159a4bcb1973872 inherit pub_methods_class_driver_1_1_t_pipe_1_1_tx"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor.  <br /></td></tr>
<tr class="separator:a3a60a35bbd126e84b159a4bcb1973872 inherit pub_methods_class_driver_1_1_t_pipe_1_1_tx"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a54d76054befe1f2e628c46f0ddf67afe" id="r_a54d76054befe1f2e628c46f0ddf67afe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_cpl_1_1_container_1_1_map.html">Cpl::Container::Map</a>&lt; <a class="el" href="class_driver_1_1_t_pipe_1_1_rx_frame_handler_api.html">RxFrameHandlerApi</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a54d76054befe1f2e628c46f0ddf67afe">m_rxHandlers</a></td></tr>
<tr class="memdesc:a54d76054befe1f2e628c46f0ddf67afe"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of Frame handlers.  <br /></td></tr>
<tr class="separator:a54d76054befe1f2e628c46f0ddf67afe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5edd68aa3e42d38842fd74bf7a2f543c" id="r_a5edd68aa3e42d38842fd74bf7a2f543c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_cpl_1_1_text_1_1_frame_1_1_stream_decoder.html">Cpl::Text::Frame::StreamDecoder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5edd68aa3e42d38842fd74bf7a2f543c">m_deframer</a></td></tr>
<tr class="memdesc:a5edd68aa3e42d38842fd74bf7a2f543c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame Decoder.  <br /></td></tr>
<tr class="separator:a5edd68aa3e42d38842fd74bf7a2f543c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e4b0bd55b686da39c4096b16f39ee6" id="r_a11e4b0bd55b686da39c4096b16f39ee6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_cpl_1_1_text_1_1_frame_1_1_stream_encoder.html">Cpl::Text::Frame::StreamEncoder</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11e4b0bd55b686da39c4096b16f39ee6">m_framer</a></td></tr>
<tr class="memdesc:a11e4b0bd55b686da39c4096b16f39ee6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame Encoder.  <br /></td></tr>
<tr class="separator:a11e4b0bd55b686da39c4096b16f39ee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02fa77aeae371248ecd8f1d690632806" id="r_a02fa77aeae371248ecd8f1d690632806"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a02fa77aeae371248ecd8f1d690632806">m_frameBuffer</a></td></tr>
<tr class="memdesc:a02fa77aeae371248ecd8f1d690632806"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame buffer.  <br /></td></tr>
<tr class="separator:a02fa77aeae371248ecd8f1d690632806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad1d739dbbd1f82230c1b73d9a4475d1" id="r_aad1d739dbbd1f82230c1b73d9a4475d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_cpl_1_1_io_1_1_output.html">Cpl::Io::Output</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad1d739dbbd1f82230c1b73d9a4475d1">m_outfdPtr</a></td></tr>
<tr class="memdesc:aad1d739dbbd1f82230c1b73d9a4475d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache the handle to the output stream (for raw-commands)  <br /></td></tr>
<tr class="separator:aad1d739dbbd1f82230c1b73d9a4475d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a236f343ef2e408a310c75f4dfcc2183e" id="r_a236f343ef2e408a310c75f4dfcc2183e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_cpl_1_1_system_1_1_mutex.html">Cpl::System::Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a236f343ef2e408a310c75f4dfcc2183e">m_lock</a></td></tr>
<tr class="memdesc:a236f343ef2e408a310c75f4dfcc2183e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock for thread safety and atomic transmits.  <br /></td></tr>
<tr class="separator:a236f343ef2e408a310c75f4dfcc2183e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad889c5917ff68172b4ff66ce49f68e1" id="r_aad889c5917ff68172b4ff66ce49f68e1"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad889c5917ff68172b4ff66ce49f68e1">m_frameBufSize</a></td></tr>
<tr class="memdesc:aad889c5917ff68172b4ff66ce49f68e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame buffer size (not including the null terminator)  <br /></td></tr>
<tr class="separator:aad889c5917ff68172b4ff66ce49f68e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0c5b6dcae21d777ec079355232c3f63" id="r_ae0c5b6dcae21d777ec079355232c3f63"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0c5b6dcae21d777ec079355232c3f63">m_verbDelimiters</a></td></tr>
<tr class="memdesc:ae0c5b6dcae21d777ec079355232c3f63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delimiter(s) to find the end of the command verb.  <br /></td></tr>
<tr class="separator:ae0c5b6dcae21d777ec079355232c3f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5781b60f27896c82af4c8c8bea6557c2" id="r_a5781b60f27896c82af4c8c8bea6557c2"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5781b60f27896c82af4c8c8bea6557c2">m_unknownFrames</a></td></tr>
<tr class="memdesc:a5781b60f27896c82af4c8c8bea6557c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Track the number of unknown frames (i.e. frame received with no register frame handler)  <br /></td></tr>
<tr class="separator:a5781b60f27896c82af4c8c8bea6557c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9e1eaf58f1976a03fc5ffdb0607d83e1" name="a9e1eaf58f1976a03fc5ffdb0607d83e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e1eaf58f1976a03fc5ffdb0607d83e1">&#9670;&#160;</a></span>Pipe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Driver::TPipe::Pipe::Pipe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_cpl_1_1_container_1_1_map.html">Cpl::Container::Map</a>&lt; <a class="el" href="class_driver_1_1_t_pipe_1_1_rx_frame_handler_api.html">RxFrameHandlerApi</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>rxFrameHdlrs</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_cpl_1_1_text_1_1_frame_1_1_stream_decoder.html">Cpl::Text::Frame::StreamDecoder</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>deframer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_cpl_1_1_text_1_1_frame_1_1_stream_encoder.html">Cpl::Text::Frame::StreamEncoder</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>framer</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>rxFrameSize</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>verbDelimiters</em><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&#160;&quot;</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rxFrameHdlrs</td><td>The set of received frame handlers. Note: frame handler's self register </td></tr>
    <tr><td class="paramname">deframer</td><td>Frame decoder used to identify individual command strings within the raw Input stream. NOTE: The decoder instance MUST use non-blocking semantics </td></tr>
    <tr><td class="paramname">framer</td><td>Frame encoder used to encapsulate the output of command in the Output stream. </td></tr>
    <tr><td class="paramname">rxFrameSize</td><td>The size, in bytes, of the buffer used to hold an incoming Frame. The behavior of what happens if the incoming data exceeds the frame size is defined by the 'deframer' (typically this is to discard the in-progress frame and being looking for a new SOF). </td></tr>
    <tr><td class="paramname">verbDelimiters</td><td>The delimiter characters used to separate the command verb from the rest of commands tokens/data. This string must stay in scope for the life of the <a class="el" href="class_driver_1_1_t_pipe_1_1_pipe.html" title="This concrete class provides the implementation of TPipe.">Pipe</a> instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a64e33e190598c5f0e03552a4291293b6" name="a64e33e190598c5f0e03552a4291293b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e33e190598c5f0e03552a4291293b6">&#9670;&#160;</a></span>~Pipe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Driver::TPipe::Pipe::~Pipe </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a39b80e3003df70bc0faf642a5a489674" name="a39b80e3003df70bc0faf642a5a489674"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39b80e3003df70bc0faf642a5a489674">&#9670;&#160;</a></span>getUnknownFrameCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Driver::TPipe::Pipe::getUnknownFrameCount </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method returns the number of received frames that there was no registered frame handler to process the incoming frame. </p>
<p>This method is thread safe. </p>

</div>
</div>
<a id="a01ca691ab8bffc163da9493fcc779650" name="a01ca691ab8bffc163da9493fcc779650"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ca691ab8bffc163da9493fcc779650">&#9670;&#160;</a></span>poll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Driver::TPipe::Pipe::poll </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method provides the <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a> CPU/Execution time. </p>
<p>It MUST be called in the 'idleFunction' for the Periodic Scheduler of which the <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a> executes in.</p>
<p>Return false if a Stream IO error occurred; else true is returned </p>

</div>
</div>
<a id="a065f24a04e19f438b2d3754e4c532d0a" name="a065f24a04e19f438b2d3754e4c532d0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a065f24a04e19f438b2d3754e4c532d0a">&#9670;&#160;</a></span>sendCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Driver::TPipe::Pipe::sendCommand </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>completeCommandText</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>numBytes</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>See <a class="el" href="class_driver_1_1_t_pipe_1_1_tx.html" title="This abstract class defines the &#39;Transmit Command&#39; interface for the TPipe.">Driver::TPipe::Tx</a>. </p>

<p>Implements <a class="el" href="class_driver_1_1_t_pipe_1_1_tx.html#a0e98cb8d7dd20ae6d75dd906b28af56f">Driver::TPipe::Tx</a>.</p>

</div>
</div>
<a id="a8970d02e0ac63aed0a7be3539e1d4245" name="a8970d02e0ac63aed0a7be3539e1d4245"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8970d02e0ac63aed0a7be3539e1d4245">&#9670;&#160;</a></span>sendRawCommand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Driver::TPipe::Pipe::sendRawCommand </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>completeCommandText</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>numBytes</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>See <a class="el" href="class_driver_1_1_t_pipe_1_1_tx.html" title="This abstract class defines the &#39;Transmit Command&#39; interface for the TPipe.">Driver::TPipe::Tx</a>. </p>

<p>Implements <a class="el" href="class_driver_1_1_t_pipe_1_1_tx.html#a54d41aeb47ce8816b70bf5d92c4c3254">Driver::TPipe::Tx</a>.</p>

</div>
</div>
<a id="a45b7c10bb70f6a2abaf6c94b185e46e0" name="a45b7c10bb70f6a2abaf6c94b185e46e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45b7c10bb70f6a2abaf6c94b185e46e0">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Driver::TPipe::Pipe::start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_cpl_1_1_io_1_1_input.html">Cpl::Io::Input</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>inStream</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_cpl_1_1_io_1_1_output.html">Cpl::Io::Output</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>outStream</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method performs the in-thread initialization of the <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a>. </p>
<p>It MUST be called in the 'beginThreadProcessing' for the Periodic Scheduler of which the <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a> executes in. </p>

</div>
</div>
<a id="a20b8da283b4d80e466b82bf60129ae16" name="a20b8da283b4d80e466b82bf60129ae16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20b8da283b4d80e466b82bf60129ae16">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Driver::TPipe::Pipe::stop </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method performs the in-thread shutdown of the <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a>. </p>
<p>It MUST be called in the 'endThreadProcessing' for the Periodic Scheduler of which the <a class="el" href="namespace_driver_1_1_t_pipe.html" title="The &#39;TPipe&#39; namespace provides a point-to-point full duplex &#39;pipe&#39; used to pass text based commands b...">TPipe</a> executes in. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5edd68aa3e42d38842fd74bf7a2f543c" name="a5edd68aa3e42d38842fd74bf7a2f543c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5edd68aa3e42d38842fd74bf7a2f543c">&#9670;&#160;</a></span>m_deframer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpl_1_1_text_1_1_frame_1_1_stream_decoder.html">Cpl::Text::Frame::StreamDecoder</a>&amp; Driver::TPipe::Pipe::m_deframer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frame Decoder. </p>

</div>
</div>
<a id="a02fa77aeae371248ecd8f1d690632806" name="a02fa77aeae371248ecd8f1d690632806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02fa77aeae371248ecd8f1d690632806">&#9670;&#160;</a></span>m_frameBuffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* Driver::TPipe::Pipe::m_frameBuffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frame buffer. </p>

</div>
</div>
<a id="aad889c5917ff68172b4ff66ce49f68e1" name="aad889c5917ff68172b4ff66ce49f68e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad889c5917ff68172b4ff66ce49f68e1">&#9670;&#160;</a></span>m_frameBufSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Driver::TPipe::Pipe::m_frameBufSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frame buffer size (not including the null terminator) </p>

</div>
</div>
<a id="a11e4b0bd55b686da39c4096b16f39ee6" name="a11e4b0bd55b686da39c4096b16f39ee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11e4b0bd55b686da39c4096b16f39ee6">&#9670;&#160;</a></span>m_framer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpl_1_1_text_1_1_frame_1_1_stream_encoder.html">Cpl::Text::Frame::StreamEncoder</a>&amp; Driver::TPipe::Pipe::m_framer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frame Encoder. </p>

</div>
</div>
<a id="a236f343ef2e408a310c75f4dfcc2183e" name="a236f343ef2e408a310c75f4dfcc2183e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a236f343ef2e408a310c75f4dfcc2183e">&#9670;&#160;</a></span>m_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpl_1_1_system_1_1_mutex.html">Cpl::System::Mutex</a> Driver::TPipe::Pipe::m_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock for thread safety and atomic transmits. </p>

</div>
</div>
<a id="aad1d739dbbd1f82230c1b73d9a4475d1" name="aad1d739dbbd1f82230c1b73d9a4475d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad1d739dbbd1f82230c1b73d9a4475d1">&#9670;&#160;</a></span>m_outfdPtr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpl_1_1_io_1_1_output.html">Cpl::Io::Output</a>* Driver::TPipe::Pipe::m_outfdPtr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cache the handle to the output stream (for raw-commands) </p>

</div>
</div>
<a id="a54d76054befe1f2e628c46f0ddf67afe" name="a54d76054befe1f2e628c46f0ddf67afe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54d76054befe1f2e628c46f0ddf67afe">&#9670;&#160;</a></span>m_rxHandlers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpl_1_1_container_1_1_map.html">Cpl::Container::Map</a>&lt;<a class="el" href="class_driver_1_1_t_pipe_1_1_rx_frame_handler_api.html">RxFrameHandlerApi</a>&gt;&amp; Driver::TPipe::Pipe::m_rxHandlers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of Frame handlers. </p>

</div>
</div>
<a id="a5781b60f27896c82af4c8c8bea6557c2" name="a5781b60f27896c82af4c8c8bea6557c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5781b60f27896c82af4c8c8bea6557c2">&#9670;&#160;</a></span>m_unknownFrames</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Driver::TPipe::Pipe::m_unknownFrames</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Track the number of unknown frames (i.e. frame received with no register frame handler) </p>

</div>
</div>
<a id="ae0c5b6dcae21d777ec079355232c3f63" name="ae0c5b6dcae21d777ec079355232c3f63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0c5b6dcae21d777ec079355232c3f63">&#9670;&#160;</a></span>m_verbDelimiters</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* Driver::TPipe::Pipe::m_verbDelimiters</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delimiter(s) to find the end of the command verb. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Driver/TPipe/<a class="el" href="_pipe_8h_source.html">Pipe.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 25 2025 21:12:14 for Colony by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
